var hackerSupply=angular.module("hackerSupply",["ngRoute"]);hackerSupply.config(function(e){e.when("/",{templateUrl:"pages/home.html",controller:"mainController"}).when("/item/:itemId",{templateUrl:"pages/item.html",controller:"itemController"}).when("/login",{templateUrl:"pages/login.html",controller:"loginController"}).when("/buy/:itemId",{templateUrl:"pages/buy.html",controller:"buyController"}).when("/confirmation/:confirmation",{templateUrl:"pages/confirmation.html",controller:"confirmationController"}).when("/admin",{templateUrl:"pages/admin.html",controller:"adminController"})}),hackerSupply.controller("indexController",function(e,o){}),hackerSupply.controller("mainController",function(e,o){$(".header").show(),$(".footer").show(),$(".slider-contents").slick({slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:5e3,arrows:!0,accessibility:!0}),e.myItems={},o({method:"GET",url:"/api/item/"}).success(function(o,r,n,t){e.myItems=o,console.log(e.myItems)}).error(function(e,o,r,n){console.log(o)})}),hackerSupply.controller("itemController",function(e,o,r){$(".header").show(),$(".footer").show(),e.hide=!1,e.item={},e.reconmend={};var n="/api/item/"+r.itemId;console.log(n),o({method:"GET",url:n}).success(function(o,r,n,t){e.item=o,console.log(e.item)}).error(function(e,o,r,n){console.log(o)}),o({method:"GET",url:"/api/item?limit=4"}).success(function(o,r,n,t){e.reconmend=o,console.log(e.item)}).error(function(e,o,r,n){console.log(o)})}),hackerSupply.controller("buyController",function(e,o,r,n){Stripe.setPublishableKey("pk_6lp9e39ut8xka2FbqeGdTHNCF1b0X"),e.item={},e.details={};var t="/api/item/"+r.itemId;console.log(t),o({method:"GET",url:t}).success(function(o,r,n,t){e.item=o,console.log(e.item)}).error(function(e,o,r,n){console.log(o)}),e.order=function(e){function t(e,t){t.error?console.log("error stripe"):o({method:"POST",url:"/api/buy",data:{item:r.itemId,name:l.name,address_line1:i.address_line1,address_line2:i.address_line2,address_city:i.address_city,address_state:i.address_state,address_zip:i.address_zip,address_country:"US",email:l.email,phone:l.phone,stripe_token:t.id}}).success(function(e,o,r,t){var l="/confirmation/"+e.confirmation;n.path(l)}).error(function(e,o,r,n){console.log(e)})}console.log(e);var l=angular.copy(e),i={};o({method:"POST",url:"/api/address",data:{address_line1:l.address_line1,address_line2:l.address_line2,address_city:l.address_city,address_state:l.address_state,address_zip:l.address_zip,address_country:"US"}}).success(function(e,o,r,n){i=e.address,console.log(i),Stripe.card.createToken({number:l.card_number,cvc:l.card_cvc,exp_month:l.card_month,exp_year:l.card_year},t)}).error(function(e,o,r,n){console.log("address incorrect")})}}),hackerSupply.controller("confirmationController",function(e,o,r){e.information={},e.number=o.confirmation;var n="/api/status/"+o.confirmation;r({method:"GET",url:n}).success(function(o,r,n,t){e.information=o,console.log(e.information)}).error(function(e,o,r,n){console.log(o)})}),hackerSupply.controller("adminController",function(e){e.hide=!0,e.bodyStyle={background:"black !important"},$(".header").hide(),$(".footer").hide()}),hackerSupply.controller("loginController",function(e){$(".header").hide(),$(".footer").hide()});